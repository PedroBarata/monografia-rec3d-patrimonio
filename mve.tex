\section{MVE}\label{sec:mve}
%======================================================================================
%
Um dos algoritmos utilizados para a técnica de reconstrução densa é o MVE -- {\it Multi-View  Environment}, feito por Simon Fuhrmann, Fabian Langguth e Michael Goesele. Este algoritmo utiliza fotos e produz uma malha triangular superficial como resultado. Diferente das reconstruções baseadas nas geometria das imagens, o MVE é focado na reconstrução multi-escala, um quesito importante na reconstrução de esculturas e acervo cultural. Portanto, com esta técnica é possível reconstruir grandes volumes de dados, contendo regiões detalhadas em alta resolução, em comparação com o resto da cena. O sistema ainda possui uma interface gráfica para o uma reconstrução baseada no SfM, amigável ao usuário (UMVE), onde permite a visualização e inspeção das imagens, mapas de profundidade e renderizar cenas e malhas 3D.

Sua base de operação é basicamente:

\begin{enumerate}
\item{Estrutura da formação -- {\it Structure-from-Motion} (SfM)}

\begin{itemize}
\item{
Reconstrói os parâmetros da câmera (posição e orientação) e seus dados de calibração (distância focal e distorção radial),
encontrando correspondências esparsas mas estáveis entre as imagens. (Já foi abordado em outra seção deste manuscrito).
}
\end{itemize}

\item{Múltiplas visões estéreo -- {\it Multi-View Stereo} (MVS)}
\begin{itemize}
\item{
Utiliza a posição estimada das câmeras, encontrando as correspondências visuais nas imagens. Estas correspondências são trianguladas, produzindo a informação 3D, e,
consequentemente a reconstrução 3D densa.
} 
\end{itemize}
\item{Reconstrução de superfícies -- {Surface Reconstruction}}
\begin{itemize}
\item{
Tem como entrada uma densa nuvem de pontos, ou mapas de profundidade individuais. Produz uma malha superficial globalmente consistente.
}
\end{itemize}
\end{enumerate}

Como não existem muitas opções para algoritmos de SfM, o MVE permite a utilização de {\it softwares} externos como o {\it Bundler} ou o prório {\it VisualSfM}.

Uma vez com o passo do SfM feito, partimos para o MVS. Com os parâmetros de câmera conhecidos, a reconstrução densa geométrica é feita. Existem diversos algoritmos para a reconstrução densa, o MVE no caso, utiliza um algoritmo próprio, feito por um de seus criadores, Michael Goesele ({\it Multi-View Stereo for Community Photo Collections approach}), que reconstrói um mapa de profundidade para cada foto. 

Embora abordagens baseadas em mapeamentos de profundidade produzirem uma grande quantidade de redundância, (isso se dá por causa das inúmeras fotos que são sobrepostas e possuírem partes similares da mesma cena), este algoritmo é altamente escalável para grandes cenas, pois apenas um pequeno conjunto de fotos vizinhas é necessário para a reconstrução. Outra vantagem da utilização dos mapas de profundidade como representação intermediária é que a geometria é parametrizada em seu domínio natural, e os dados por foto (como a cor, por exemplo) estão diretamente acessíveis nas imagens.

A redundância excessiva nos mapas de profundidade pode ser pesado. Não com relação ao armazenamento, mas na questão do processamento computacional exigido nos mapas de profundidade. Porém, esta abordagem foi capaz de produzir uma geometria detalhada e superar o ruído nos mapas de profundidades individuais.

\subsection{Guia de reconstrução com o MVE}

Capturing photos: A dataset reconstructs best if a few sim-
ple rules are observed. First, in order to successfully recon-
struct a surface region, it must be seen from at least five
Figure 5: The final surface reconstruction with color (left)
and shaded (right). Notice how even the engraved text is vis-
ible in the geometry.
views. This is a requirement of the MVS algorithm to reli-
ably triangulate any 3D position. Photos should thus be taken
with a good amount of overlap. Usually, unless the dataset
becomes really large, more photos will not hurt quality, but
there is a tradeoff between quality and performance. As a
rule of thumb, taking twice as many photos as one might
think is a good idea. In order for triangulation to work, paral-
lax is required. The camera should be re-positioned for every
photo. (This is exactly opposite to how panoramas are cap-
tured, where parallax in the images must be avoided.) This is
also important for SfM: Triangulating a feature track with in-
sufficient parallax results in a small triangulation angle and a
poorly conditioned 3D position. Figure 6 shows some input
images of our exemplary dataset.

Tirando fotos: Um bom conjunto de dados é gerado se algumas regras simples forem seguidas:

\begin{ìtemize}
\item{Para que o algoritmo do MVS consiga fazer uma triangulação com qualquer posição 3D, o conjunto de dados terá que ter, no mínimo, cinco fotos.}

\end{itemize}
